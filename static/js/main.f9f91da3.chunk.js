(this["webpackJsonpsvg-experiments"]=this["webpackJsonpsvg-experiments"]||[]).push([[0],{12:function(e,t,n){"use strict";function r(e){return function(t,n){return e(t)-e(n)}}function o(e){return function(t,n){return e(n)-e(t)}}function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n){for(var r=0;;){if(r===t.length)return 0;var o=t[r](e,n);if(0!==o)return o;r++}}}n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a}))},190:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Editor}));var _home_runner_work_svg_experiments_svg_experiments_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(71),_indicesToReferences__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(89),_stringsToNodes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(90),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),_parseGraph__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(191),_Diagram__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(91),_Editor_css__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(402),_Editor_css__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_Editor_css__WEBPACK_IMPORTED_MODULE_6__),graphAsString='var stack = stringsToNodes([\n    [\n        {name: "group 1", elements: [\n            "element 11", \n            {name: "element 2", size: 1.5, symbol: "component"}, \n            {name: "an element with long text", symbol: "component"}            \n        ]},\n        {name: "group 2", elements: ["element 4"]}\n    ],\n    [\n        {name: "group 3", elements: ["element 1", "element 2"]},\n        {name: "group 4", elements: [\n            {name: "group 6", elements: ["element 4"]}, \n            {name: "placeholder", size: 0.3, isPlaceholder: true}, \n            "element 3"\n        ]},\n        "node on top level", \n        {name: "an element with long text", symbol: "component"}     \n    ],\n    [\n        {name: "group 5", elements: [\n            "element 1", "element 2", "element 3", \n            {name: "element with changed name", size: 1.5}, \n            {name: "element 5", size: 0.7}]}\n    ]\n]);\n\nvar edgeIndices = [\n    {from: [0, 0, 0],    to: [1, 3]},\n    {from: [0, 0, 1],    to: [1, 0, 0]},\n    {from: [0, 0, 2],    to: [1, 1, 0, 0]},\n    {from: [0, 1, 0],    to: [1, 0, 1]},\n    {from: [1, 1, 0, 0], to: [2, 0, 2]},\n    {from: [1, 0, 1],    to: [2, 0, 4]},\n    {from: [1, 0, 1],    to: [2, 0, 3]},\n    {from: [1, 0, 1],    to: [2, 0, 2]},\n    {from: [1, 0, 1],    to: [2, 0, 1]},\n    {from: [1, 0, 1],    to: [2, 0, 0]},\n    {from: [2, 0, 0],    to: [1, 0, 0]},\n    {from: [2, 0, 1],    to: [1, 0, 0]},\n    {from: [2, 0, 0],    to: [2, 0, 3]},\n    {from: [2, 0, 1],    to: [2, 0, 3]},\n    {from: [2, 0, 4],    to: [2, 0, 3]},\n    {from: [0, 0, 0],    to: [0, 0, 2]},\n    {from: [0, 0, 0],    to: [0, 0, 1]},\n    {from: [0, 0, 0],    to: [1, 0, 0]},\n    {from: [0, 0, 0],    to: [1, 0, 0]},\n    {from: [0, 1, 0],    to: [1, 1, 1]},\n    {from: [1, 1, 1],    to: [2, 0, 2]},\n    {from: [0, 1, 0],    to: [1, 1, 2]},\n    {from: [1, 0, 1],    to: [1, 0, 0]},\n    {from: [0, 0, 0],    to: [2, 0, 0]},\n    {from: [0, 0, 0],    to: [2, 0, 1]},\n    {from: [1, 0, 1],    to: [1, 1, 0, 0]}\n];\nvar edges = indicesToReferences(stack, edgeIndices);\n\nvar graph = {\n    stack: stack,\n    edges: edges\n};\n\ngraph\n',indicesToReferences=_indicesToReferences__WEBPACK_IMPORTED_MODULE_1__.a,stringsToNodes=_stringsToNodes__WEBPACK_IMPORTED_MODULE_2__.a,initialGraph=eval(graphAsString),Editor=function(){var e=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(initialGraph),t=Object(_home_runner_work_svg_experiments_svg_experiments_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(e,2),n=t[0],r=t[1],o=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)(""),a=Object(_home_runner_work_svg_experiments_svg_experiments_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__.a)(o,2),s=a[0],c=a[1];return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div",{id:"parent",className:"App"},react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div",{id:"graph"},react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(_Diagram__WEBPACK_IMPORTED_MODULE_5__.a,{stack:n.stack,edges:n.edges})),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("textarea",{cols:100,rows:45,onChange:function(e){var t=Object(_parseGraph__WEBPACK_IMPORTED_MODULE_4__.a)(e.target.value);"string"===typeof t?c(t):(r(t),c(""))},defaultValue:graphAsString}),react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement("p",{className:"error-message"},s)))}},191:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return parseGraph}));var _indicesToReferences__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(89),_stringsToNodes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(90),indicesToReferences=_indicesToReferences__WEBPACK_IMPORTED_MODULE_0__.a,stringsToNodes=_stringsToNodes__WEBPACK_IMPORTED_MODULE_1__.a;function parseGraph(text){try{var graph=eval(text);return void 0===graph?"Script is not returning a graph object!":void 0===graph.stack?"Property layers is missing in graph object!":void 0===graph.edges?"Property edges is missing in graph object!":graph.edges.every((function(e){return void 0!==e.from}))?graph.edges.every((function(e){return void 0!==e.to}))?graph:"Property to must be defined on every edge!":"Property from must be defined on every edge!"}catch(e){return e.message}}},194:function(e,t,n){e.exports=n(407)},401:function(e,t,n){},402:function(e,t,n){},407:function(e,t,n){"use strict";n.r(t);n(195),n(204);var r=n(1),o=n.n(r),a=n(189),s=n.n(a),c=(n(401),n(72)),i=n(47),u=n(190),d=n(91);function f(e){return{kind:"node",name:e,symbol:"component",size:1.2}}var l=function(){var e=f("Product API"),t=f("Stock API"),n=f("Product Service DB"),r=f("Product Importer"),a=f("Stock Importer"),s=f("Category Importer"),c=f("Campaign Importer"),i={kind:"stack",elements:[{kind:"layer",elements:[e,t]},{kind:"layer",elements:[n]},{kind:"layer",elements:[r,a,s,c]}]},u=[{from:e,to:n},{from:t,to:n},{from:n,to:r},{from:n,to:a},{from:n,to:s},{from:n,to:c}];return o.a.createElement(d.a,{stack:i,edges:u})};function m(e,t){return t(e.element),e}function _(e,t){return{from:e,to:t}}var p=150,x=40,E=10,h=30,b=10,g=10,v=20,y=10,k=function(e){return o.a.createElement("g",{key:e.elementKey},o.a.createElement("rect",{x:e.offsetElementsX*(p+g)+e.borderIndexMaxX*(2*e.offsetElementsX+1)*E,y:e.offsetElementsY*(x+v)+(e.borderIndexMaxPreviousTop+e.borderIndexMaxTop-e.borderIndexTop)*h+e.borderIndexMaxPreviousBottom*b+e.midPathSegmentOffsetMaxPreviousY*y,width:p,height:x,fill:"lightgrey",strokeWidth:.5,stroke:"black"}),o.a.createElement("text",{x:e.offsetElementsX*(p+g)+e.borderIndexMaxX*(2*e.offsetElementsX+1)*E,y:e.offsetElementsY*(x+v)+(e.borderIndexMaxPreviousTop+e.borderIndexMaxTop-e.borderIndexTop)*h+e.borderIndexMaxPreviousBottom*b+e.midPathSegmentOffsetMaxPreviousY*y+15,fill:"black"},e.midPathSegmentOffsetMaxPreviousY))};function M(e){throw new Error("Unexpected object: "+e)}function O(e){return m(e,I)}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{offsetElementsY:0};switch(e.kind){case"node":return Object.assign(e,{offsetElementsY:t.offsetElementsY}),void t.offsetElementsY++;case"row":Object.assign(e,{offsetElementsY:t.offsetElementsY});var n=0,r=t.offsetElementsY;return e.elements.forEach((function(e){I(e,t),n=Math.max(n,t.offsetElementsY),t.offsetElementsY=r})),void(t.offsetElementsY=n);case"column":return Object.assign(e,{offsetElementsY:t.offsetElementsY}),void e.elements.forEach((function(e){return I(e,t)}));default:M(e)}}function w(e){return m(e,P)}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{offsetElementsX:0};switch(e.kind){case"node":return Object.assign(e,{offsetElementsX:t.offsetElementsX}),void t.offsetElementsX++;case"row":return Object.assign(e,{offsetElementsX:t.offsetElementsX}),void e.elements.forEach((function(e){return P(e,t)}));case"column":Object.assign(e,{offsetElementsX:t.offsetElementsX});var n=0,r=t.offsetElementsX;return e.elements.forEach((function(e){P(e,t),n=Math.max(n,t.offsetElementsX),t.offsetElementsX=r})),void(t.offsetElementsX=n);default:M(e)}}var j=n(5);function Y(e){return m(e,T)}function T(e){switch(e.kind){case"node":return Object.assign(e,{embeddedElementsX:1}),1;case"row":var t=e.elements.map(T).reduce((function(e,t){return e+t}),0);return Object.assign(e,{embeddedElementsX:t}),t;case"column":var n=Math.max.apply(Math,Object(j.a)(e.elements.map(T)).concat([0]));return Object.assign(e,{embeddedElementsX:n}),n;default:M(e)}}var B=function(e){return o.a.createElement("g",{key:e.elementKey},o.a.createElement("rect",{x:e.offsetElementsX*(p+g)+(e.borderIndexMaxX*(2*e.offsetElementsX+1)-e.borderIndexLeft)*E,y:e.offsetElementsY*(x+v)+(e.borderIndexMaxPreviousTop+e.borderIndexMaxTop-e.borderIndexTop)*h+e.borderIndexMaxPreviousBottom*b+e.midPathSegmentOffsetMaxPreviousY*y,width:e.embeddedElementsX*p+(e.embeddedElementsX-1)*g+((e.embeddedElementsX-1)*e.borderIndexMaxX*2+e.borderIndexLeft+e.borderIndexRight)*E,height:e.embeddedElementsY*x+(e.embeddedElementsY-1)*v+e.borderIndexTop*h+e.embeddedBorderIndexMaxTop*h+e.embeddedBorderIndexMaxBottom*b+e.borderIndexBottom*b,fill:"none",strokeWidth:.5,stroke:"grey"}),o.a.createElement("text",{x:e.offsetElementsX*(p+g)+(e.borderIndexMaxX*(2*e.offsetElementsX+1)-e.borderIndexLeft)*E,y:e.offsetElementsY*(x+v)+(e.borderIndexMaxPreviousTop+e.borderIndexMaxTop-e.borderIndexTop)*h+e.borderIndexMaxPreviousBottom*b+e.midPathSegmentOffsetMaxPreviousY*y+15,fill:"black"},e.embeddedElementsY+"__"+e.borderIndexMaxPreviousTop+"/"+e.borderIndexTop+"/"+e.borderIndexMaxTop+"__"+e.borderIndexMaxPreviousBottom+"/"+e.borderIndexBottom+"/"+e.borderIndexMaxBottom))};function D(e){return m(e,A)}function A(e){!function e(t,n){switch(t.kind){case"node":return void Object.assign(t,{borderIndexMaxX:n});case"row":case"column":return Object.assign(t,{borderIndexMaxX:n}),void t.elements.forEach((function(t){return e(t,n)}));default:M(t)}}(e,L(e))}function L(e){switch(e.kind){case"node":return 0;case"row":case"column":return Math.max.apply(Math,Object(j.a)(e.elements.map(L)).concat([e.borderIndexLeft,e.borderIndexRight]));default:M(e)}}function X(e){return m(e,R)}function R(e){switch(e.kind){case"node":return Object.assign(e,{borderIndexLeft:0}),0;case"row":var t=(e.elements.length>0?e.elements.map(R):[0])[0]+(e.border?1:0);return Object.assign(e,{borderIndexLeft:t}),t;case"column":var n=Math.max.apply(Math,Object(j.a)(e.elements.map(R)).concat([0]))+(e.border?1:0);return Object.assign(e,{borderIndexLeft:n}),n;default:M(e)}}function W(e){return m(e,K)}function K(e){switch(e.kind){case"node":return Object.assign(e,{borderIndexRight:0}),0;case"row":var t=e.elements.length>0?e.elements.map(K):[0],n=t[t.length-1]+(e.border?1:0);return Object.assign(e,{borderIndexRight:n}),n;case"column":var r=Math.max.apply(Math,Object(j.a)(e.elements.map(K)).concat([0]))+(e.border?1:0);return Object.assign(e,{borderIndexRight:r}),r;default:M(e)}}function C(e){return m(e,U)}function U(e){switch(e.kind){case"node":return Object.assign(e,{borderIndexTop:0}),0;case"row":var t=Math.max.apply(Math,Object(j.a)(e.elements.map(U)).concat([0]))+(e.border?1:0);return Object.assign(e,{borderIndexTop:t}),t;case"column":var n=(e.elements.length>0?e.elements.map(U):[0])[0]+(e.border?1:0);return Object.assign(e,{borderIndexTop:n}),n;default:M(e)}}function S(e){return m(e,N)}function N(e){switch(e.kind){case"node":return Object.assign(e,{borderIndexBottom:0}),0;case"row":var t=Math.max.apply(Math,Object(j.a)(e.elements.map(N)).concat([0]))+(e.border?1:0);return Object.assign(e,{borderIndexBottom:t}),t;case"column":var n=e.elements.length>0?e.elements.map(N):[0],r=n[n.length-1]+(e.border?1:0);return Object.assign(e,{borderIndexBottom:r}),r;default:M(e)}}var q=n(12);function z(e){var t=new Map,n=0;return Array.from(e.entries()).sort(Object(q.b)((function(e){return e[0]}))).forEach((function(e){t.set(e[0],n),n+=e[1]})),t}function G(e){switch(e.kind){case"node":return e.offsetElementsY;case"row":case"column":return Math.max.apply(Math,Object(j.a)(e.elements.map(G)).concat([e.offsetElementsY]))}}function H(e){return m(e,J)}function J(e){var t=V(e);!function e(t,n,r){switch(t.kind){case"node":return void Object.assign(t,{borderIndexMaxBottom:n.get(t.offsetElementsY),borderIndexMaxPreviousBottom:r.get(t.offsetElementsY),embeddedBorderIndexMaxBottom:0});case"row":case"column":return Object.assign(t,{borderIndexMaxBottom:n.get(G(t)),borderIndexMaxPreviousBottom:r.get(t.offsetElementsY),embeddedBorderIndexMaxBottom:$(t,n)}),void t.elements.forEach((function(t){return e(t,n,r)}));default:M(t)}}(e,t,z(t))}function V(e){switch(e.kind){case"node":var t=new Map;return t.set(e.offsetElementsY,e.borderIndexBottom),t;case"row":case"column":var n=new Map;return n.set(G(e),e.borderIndexBottom),e.elements.map(V).reduce((function(e,t){return Array.from(t.entries()).forEach((function(t){var n=Math.max(e.get(t[0])||0,t[1]);e.set(t[0],n)})),e}),n);default:M(e)}}function $(e,t){for(var n=e.offsetElementsY,r=G(e)-1,o=0,a=n;a<=r;a++)o+=t.get(a)||0;return o}var F=n(71);function Q(e){return m(e,Z)}function Z(e){var t=ee(e);!function e(t,n,r){switch(t.kind){case"node":return void Object.assign(t,{borderIndexMaxTop:n.get(t.offsetElementsY),borderIndexMaxPreviousTop:r.get(t.offsetElementsY),embeddedBorderIndexMaxTop:0});case"row":case"column":return Object.assign(t,{borderIndexMaxTop:n.get(t.offsetElementsY),borderIndexMaxPreviousTop:r.get(t.offsetElementsY),embeddedBorderIndexMaxTop:te(t,n)}),void t.elements.forEach((function(t){return e(t,n,r)}));default:M(t)}}(e,t,z(t))}function ee(e){switch(e.kind){case"node":var t=new Map;return t.set(e.offsetElementsY,e.borderIndexTop),t;case"row":case"column":var n=new Map;return n.set(e.offsetElementsY,e.borderIndexTop),e.elements.map(ee).reduce((function(e,t){return Array.from(t.entries()).forEach((function(t){var n=Object(F.a)(t,2),r=n[0],o=n[1],a=Math.max(e.get(r)||0,o);e.set(r,a)})),e}),n);default:M(e)}}function te(e,t){for(var n=e.offsetElementsY+1,r=G(e),o=0,a=n;a<=r;a++)o+=t.get(a)||0;return o}function ne(e){return m(e,re)}function re(e){switch(e.kind){case"node":return Object.assign(e,{embeddedElementsY:1}),1;case"row":var t=Math.max.apply(Math,Object(j.a)(e.elements.map(re)).concat([0]));return Object.assign(e,{embeddedElementsY:t}),t;case"column":var n=e.elements.map(re).reduce((function(e,t){return e+t}),0);return Object.assign(e,{embeddedElementsY:n}),n;default:M(e)}}function oe(e){return e.from.offsetElementsY===e.to.offsetElementsY?e.from.offsetElementsX<=e.to.offsetElementsX:e.from.offsetElementsY<e.to.offsetElementsY}function ae(e){return oe(e)?e.from:e.to}function se(e){return oe(e)?e.to:e.from}function ce(e){return e.offsetElementsY*(x+v)+(e.borderIndexMaxPreviousTop+e.borderIndexMaxTop-e.borderIndexTop)*h+e.borderIndexMaxPreviousBottom*b+e.midPathSegmentOffsetMaxPreviousY*y}function ie(e,t){var n=e.offsetElementsY<=t.offsetElementsY;return{x:e.offsetElementsX*(p+g)+e.borderIndexMaxX*(2*e.offsetElementsX+1)*E+p/2,y:ce(e)+(n?x:0)}}var ue=function(e){var t=ie(e.from,e.to),n=ce(ae(e))+x+ae(e).borderIndexMaxBottom*b+v/2+e.midPathSegmentOffsetY*y,r=ie(e.to,e.from);return o.a.createElement("path",{key:e.edgeIndex,d:"M "+t.x+" "+t.y+" L "+t.x+" "+n+" L "+r.x+" "+n+" L "+r.x+" "+r.y,stroke:"black",strokeWidth:.5,fill:"none"})};function de(e){return function(e){var t=new Map;e.map((function(e,t){return Object.assign(e,{edgeIndex:t})})).forEach((function(e){var n=ae(e).offsetElementsY,r=t.get(n)||[];r.push(e),t.set(n,r)})),Array.from(t.values()).forEach(fe)}(e.edges),e}function fe(e){var t=new Map;e.forEach((function(e){var n=ae(e),r=n.offsetElementsY+"_"+n.offsetElementsX,o=t.get(r)||[];o.push(e),t.set(r,o)}));var n=Array.from(t.keys());n.sort();var r=0;n.forEach((function(e){var n=t.get(e),o=n.filter((function(e){return se(e).offsetElementsY===ae(e).offsetElementsY})),a=o.filter((function(e){return se(e).offsetElementsX<=ae(e).offsetElementsX})),s=o.filter((function(e){return se(e).offsetElementsX>ae(e).offsetElementsX})),c=n.filter((function(e){return se(e).offsetElementsY!==ae(e).offsetElementsY})),i=c.filter((function(e){return se(e).offsetElementsX<=ae(e).offsetElementsX})),u=c.filter((function(e){return se(e).offsetElementsX>ae(e).offsetElementsX}));a.sort(Object(q.b)((function(e){return se(e).offsetElementsX}))),i.sort(Object(q.b)((function(e){return se(e).offsetElementsX}))),u.sort(Object(q.c)((function(e){return se(e).offsetElementsX}))),s.sort(Object(q.b)((function(e){return se(e).offsetElementsX})));var d=a.concat(i),f=s.concat(u);function l(e,t,n){var o=r+t;Object.assign(e,{midPathSegmentOffsetY:o})}d.forEach((function(e,t){return l(e,t)})),f.forEach((function(e,t){return l(e,t)})),r+=Math.max(d.length,f.length)}))}function le(e){return m(e,me)}function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{elementKey:0};switch(e.kind){case"node":return Object.assign(e,{elementKey:t.elementKey}),void t.elementKey++;case"row":case"column":return Object.assign(e,{elementKey:t.elementKey}),t.elementKey++,void e.elements.forEach((function(e){return me(e,t)}));default:M(e)}}function _e(e){return function(e,t){return t(e),e}(e,pe)}function pe(e){var t=xe(e.element),n=function(e,t){var n=new Map,r=0;return Array.from(Array(t+1).keys()).forEach((function(t){n.set(t,r),r+=e.get(t)||0})),n}(function(e){var t=new Map;return e.forEach((function(e){var n=ae(e).offsetElementsY,r=t.get(n)||0;t.set(n,Math.max(r,e.midPathSegmentOffsetY))})),t}(e.edges),t);!function e(t,n){switch(t.kind){case"node":return void Object.assign(t,{midPathSegmentOffsetMaxPreviousY:n.get(t.offsetElementsY)||0});case"row":case"column":return Object.assign(t,{midPathSegmentOffsetMaxPreviousY:n.get(t.offsetElementsY)||0}),void t.elements.forEach((function(t){return e(t,n)}));default:M(t)}}(e.element,n)}function xe(e){switch(e.kind){case"node":return e.offsetElementsY;case"column":case"row":return Math.max.apply(Math,Object(j.a)(e.elements.map(xe)));default:M(e)}}function Ee(e){switch(e.kind){case"node":return[e];case"row":case"column":return e.elements.flatMap(Ee);default:M(e)}}function he(e){switch(e.kind){case"node":return[];case"row":case"column":return e.elements.flatMap(he).concat(e);default:M(e)}}var be=function(e){return[e].map(le).map(w).map(O).map(X).map(W).map(C).map(S).map(D).map(Q).map(H).map(Y).map(ne).map(de).map(_e).map((function(e){return o.a.createElement("svg",{viewBox:"0 0 1400 600"},Ee(e.element).map(k),he(e.element).filter((function(e){return e.border})).map(B),e.edges.map(ue))}))[0]},ge=function(){var e={kind:"node"},t={kind:"node"},n={kind:"node"},r={kind:"node"},a={kind:"node"},s={kind:"node"},c={kind:"node"},i={kind:"node"},u={kind:"node"},d={kind:"node"},f={kind:"node"},l={kind:"column",elements:[{kind:"row",border:"solid",elements:[{kind:"column",border:"solid",elements:[{kind:"node"},{kind:"node"}]},{kind:"column",border:"solid",elements:[{kind:"row",border:"solid",elements:[{kind:"node"},{kind:"node"}]},{kind:"node"},e]}]},{kind:"row",elements:[t,n,r,a,s]},{kind:"row",border:"solid",elements:[{kind:"row",border:"solid",elements:[c,{kind:"node"}]},{kind:"row",border:"solid",elements:[i,u,d,f]}]}]},m=[_(e,t),_(e,r),_(e,a),_(e,s),_(t,n),_(c,n),_(i,n),_(u,n),_(d,n),_(d,n),_(f,n),_(f,d)];return o.a.createElement(be,{element:l,edges:m})},ve=function(){return o.a.createElement(c.a,null,o.a.createElement("div",null,o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(c.b,{to:"/"},"Editor")),o.a.createElement("li",null,o.a.createElement(c.b,{to:"/architecture"},"Sample Architecture")),o.a.createElement("li",null,o.a.createElement(c.b,{to:"/new-layouting"},"New Layouting"))),o.a.createElement("hr",null),o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,path:"/"},o.a.createElement(u.a,null)),o.a.createElement(i.a,{path:"/architecture"},o.a.createElement(l,null)),o.a.createElement(i.a,{path:"/new-layouting"},o.a.createElement(ge,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},89:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++)if(void 0===t[n])throw new Error("Empty array elements are not allowed.");var r=e;return t.forEach((function(e){if(void 0===r.elements[e])throw new Error("Indices must refer to a node that does exist. Index "+e+" Array length "+r.elements.length);r=r.elements[e]})),r}function o(e,t){return t.map((function(t){return function(e,t){return{from:r(e,t.from),to:r(e,t.to)}}(e,t)}))}n.d(t,"a",(function(){return o}))},90:function(e,t,n){"use strict";function r(e){if("string"===typeof e)return{kind:"node",name:e};if(!("elements"in e))return Object.assign(e,{kind:"node"});for(var t=0;t<e.elements.length;t++)if(void 0===e.elements[t])throw new Error("Empty array elements are not allowed.");if("name"in e)return{kind:"group",name:e.name,elements:e.elements.map(r)};switch(e.kind){default:case"stack":case"layer":return{kind:e.kind,elements:e.elements.map(r)}}}function o(e){return{kind:"stack",elements:e.map((function(e){return{kind:"layer",elements:e.map(r)}}))}}n.d(t,"a",(function(){return o}))},91:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(5),s=5,c=5,i=150,u=40,d=30,f=10,l=10,m=10,_=20,p=10;function x(e){switch(e.kind){case"stack":return Math.max.apply(Math,Object(a.a)(e.elements.map(x)));case"layer":return e.elements.map(x).map((function(e,t){return e+(t>0?m:0)})).reduce((function(e,t){return e+t}),0);case"group":return e.elements.map(x).map((function(e,t){return e+(t>0?m:0)})).reduce((function(e,t){return e+t}),0)+2*l;case"node":return i*(e.size||1)}}function E(e){return function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(t.kind){case"stack":var o=x(t);return t.elements.forEach((function(t){e(t,n,o)})),void(n.x+=o+m);case"layer":var a=n.x;return n.x=a+(r-x(t))/2,t.elements.forEach((function(t){e(t,n,r)})),void(n.x=a);case"group":return Object.assign(t,{x:n.x}),n.x+=l,t.elements.forEach((function(t){e(t,n,r)})),void(n.x+=l);case"node":return Object.assign(t,{x:n.x}),void(n.x+=i*(t.size||1)+m)}}(e.stack,{x:c}),e}var h=n(12);function b(e){return e.from.layerIndex===e.to.layerIndex?e.from.x<=e.to.x:e.from.layerIndex<e.to.layerIndex}function g(e){return b(e)?e.from:e.to}function v(e){return b(e)?e.to:e.from}function y(e){return function(e){var t=new Map;e.map((function(e,t){return Object.assign(e,{edgeIndex:t})})).forEach((function(e){var n=g(e).layerIndex,r=t.get(n)||[];r.push(e),t.set(n,r)})),Array.from(t.values()).forEach(k)}(e.edges),e}function k(e){var t=new Map;e.forEach((function(e){var n=g(e).key,r=t.get(n)||[];r.push(e),t.set(n,r)}));var n=Array.from(t.keys());n.sort();var r=0;n.forEach((function(e){var n=t.get(e),o=n.filter((function(e){return v(e).layerIndex===g(e).layerIndex})),a=o.filter((function(e){return v(e).x<=g(e).x})),s=o.filter((function(e){return v(e).x>g(e).x})),c=n.filter((function(e){return v(e).layerIndex!==g(e).layerIndex})),i=c.filter((function(e){return v(e).x<=g(e).x})),u=c.filter((function(e){return v(e).x>g(e).x}));a.sort(Object(h.a)(Object(h.b)((function(e){return v(e).x})),Object(h.b)((function(e){return e.edgeIndex})))),i.sort(Object(h.a)(Object(h.b)((function(e){return v(e).x})),Object(h.b)((function(e){return e.edgeIndex})))),u.sort(Object(h.a)(Object(h.c)((function(e){return v(e).x})),Object(h.c)((function(e){return e.edgeIndex})))),s.sort(Object(h.a)(Object(h.b)((function(e){return v(e).x})),Object(h.b)((function(e){return e.edgeIndex}))));var d=a.concat(i),f=s.concat(u);function l(t,n,o){var a=g(t).layerIndex,s=r+n;Object.assign(t,{key:e+"_"+o+"_"+s,index:s,layerIndex:a})}d.forEach((function(e,t){return l(e,t,"B")})),f.forEach((function(e,t){return l(e,t,"A")})),r+=Math.max(d.length,f.length)}))}function M(e,t){var n=new Map;return e.forEach((function(e){var t=g(e).layerIndex,r=n.get(t)||[];r.push(e),n.set(t,r)})),Array.from(Array(t).keys()).map((function(e){var t,r=(null===(t=n.get(e))||void 0===t?void 0:t.map((function(e){return e.index})))||[0];return Math.max.apply(Math,Object(a.a)(r))*p}))}function O(e){switch(e.kind){case"stack":return e.elements.map(O).map((function(e,t){return e+(t>0?_:0)})).reduce((function(e,t){return e+t}),0);case"layer":return Math.max.apply(Math,Object(a.a)(e.elements.map(O)));case"group":return d+Math.max.apply(Math,Object(a.a)(e.elements.map(O)))+f;case"node":return e.isPlaceholder?0:u}}function I(e){switch(e.kind){case"stack":return 0===e.elements.length?0:I(e.elements[0]);case"layer":return Math.max.apply(Math,Object(a.a)(e.elements.map(I)));case"group":return d+Math.max.apply(Math,Object(a.a)(e.elements.map(I)))+f;case"node":return e.isPlaceholder?0:u}}function w(e){switch(e.kind){case"stack":return 0===e.elements.length?0:w(e.elements[0]);case"layer":return Math.max.apply(Math,Object(a.a)(e.elements.map(w)));case"group":return Math.max.apply(Math,Object(a.a)(e.elements.map(w)))+1;case"node":return 0}}function P(e){var t=M(e.edges,e.stack.elements.length);return function e(t,n,r){switch(t.kind){case"stack":var o={y:n.y,nodeY:n.nodeY,belowLayerY:n.belowLayerY};return t.elements.forEach((function(t,o){e(t,n,r)})),n.y=o.y,n.nodeY=o.nodeY,void(n.belowLayerY=o.belowLayerY);case"layer":return n.nodeY=n.y+w(t)*d,n.groupHeight=w(t)*(d+f)+u,n.belowLayerY=n.y+I(t)+_,t.elements.forEach((function(t){e(t,n,r)})),void(n.y+=O(t)+_);case"group":var a=r.slice(0,t.layerIndex).reduce((function(e,t){return e+t}),0);return Object.assign(t,{y:n.y+a,height:n.groupHeight}),n.y+=d,n.groupHeight-=d+f,t.elements.forEach((function(t){e(t,n,r)})),n.y-=d,void(n.groupHeight+=d+f);case"node":var s=r.slice(0,t.layerIndex).reduce((function(e,t){return e+t}),0);return void Object.assign(t,{y:n.nodeY+s,belowLayerY:n.belowLayerY+s})}}(e.stack,{y:s,nodeY:0,groupHeight:0,belowLayerY:0},t),e}function j(e){return function(e){var t=new Map;function n(e,n,r){var o=e.layerIndex<=n.layerIndex?"LOWER":"UPPER",a=e.key+o,s=t.get(a)||{node:e,side:o,edgeEnds:[]};s.edgeEnds.push({reverseNode:n,setIndex:r}),t.set(a,s)}e.forEach((function(e){n(e.from,e.to,(function(t){return Object.assign(e,{fromIndex:t})})),n(e.to,e.from,(function(t){return Object.assign(e,{toIndex:t})}))})),Array.from(t.values()).forEach((function(e){var t=e.edgeEnds,n=e.node,r=e.side,o=t.filter((function(e){return e.reverseNode.layerIndex===n.layerIndex})),a=o.filter((function(e){return e.reverseNode.x<=n.x})),s=o.filter((function(e){return e.reverseNode.x>=n.x})),c=t.filter((function(e){return e.reverseNode.layerIndex!==n.layerIndex}));a.sort(Object(h.c)((function(e){return e.reverseNode.x}))),c.sort(Object(h.b)((function(e){return e.reverseNode.x}))),s.sort(Object(h.c)((function(e){return e.reverseNode.x}))),a.concat(c).concat(s).forEach((function(e,t){e.setIndex(t)})),"UPPER"===r?Object.assign(n,{upperSideEdges:t.length}):Object.assign(n,{lowerSideEdges:t.length})}))}(e.edges),e}function Y(e){switch(e.kind){case"stack":return e.elements.flatMap((function(e){return e.elements})).flatMap(Y);case"group":return e.elements.flatMap(Y);case"node":return[e]}}function T(e){switch(e.kind){case"stack":return e.elements.flatMap((function(e){return e.elements})).flatMap(T);case"group":return[e].concat(e.elements.flatMap(T));case"node":return[]}}var B=function(e){var t=.4*e.width,n=.15*e.width;return o.a.createElement("g",{key:e.symbolKey},o.a.createElement("rect",{x:e.x+t/2,y:e.y,width:.8*e.width,height:1.1*e.width,fill:"none",strokeWidth:.5,stroke:"black"}),o.a.createElement("rect",{x:e.x,y:e.y+n,width:t,height:n,fill:"lightgrey",strokeWidth:.5,stroke:"black"}),o.a.createElement("rect",{x:e.x,y:e.y+3*n,width:t,height:n,fill:"lightgrey",strokeWidth:.5,stroke:"black"}))},D=function(e){if(e.isPlaceholder)return null;var t="component"===e.symbol;return o.a.createElement("g",{key:e.key},o.a.createElement("rect",{"data-testid":"rect",x:e.x,y:e.y,width:x(e),height:u,fill:"lightgrey",strokeWidth:.5,stroke:"black"}),o.a.createElement("text",{x:e.x+5,y:e.y+u/2,fill:"black",clipPath:"url(#clip-element-text-"+e.key+")"},e.name),o.a.createElement("clipPath",{id:"clip-element-text-"+e.key},o.a.createElement("rect",{x:e.x+5,y:e.y,width:x(e)-10-(t?15:0),height:u})),t?o.a.createElement(B,{symbolKey:e.key+"CS",x:e.x+x(e)-12-3,y:e.y+3,width:12}):"")},A=function(e){return o.a.createElement("g",{key:e.key},o.a.createElement("rect",{x:e.x,y:e.y,width:x(e),height:e.height,fill:"none",strokeWidth:.5,stroke:"grey"}),o.a.createElement("text",{x:e.x+l,y:e.y+u/2,fill:"black",clipPath:"url(#clip-element-text-"+e.key+")"},e.name),o.a.createElement("clipPath",{id:"clip-element-text-"+e.key},o.a.createElement("rect",{x:e.x+l,y:e.y,width:x(e)-2*l,height:u})))};function L(e,t,n){var r=e.layerIndex<=n.layerIndex,o=(x(e)-((r?e.lowerSideEdges:e.upperSideEdges)-1)*p)/2;return{x:e.x+o+t*p,y:e.y+(r?O(e):0)}}var X=function(e){var t=L(e.from,e.fromIndex,e.to),n=g(e).belowLayerY-_/2+e.index*p,r=L(e.to,e.toIndex,e.from);return o.a.createElement("path",{key:e.key,d:"M "+t.x+" "+t.y+" L "+t.x+" "+n+" L "+r.x+" "+n+" L "+r.x+" "+r.y,stroke:"black",strokeWidth:.5,fill:"none"})};function R(e){switch(e.kind){case"stack":return e.elements.map(R).reduce((function(e,t){return e+t}),0);case"layer":case"group":return Math.max.apply(Math,Object(a.a)(e.elements.map(R)));case"node":return 1}}function W(e){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;switch(t.kind){case"stack":return void t.elements.forEach((function(t){e(t,n),n+=R(t)}));case"layer":return void t.elements.forEach((function(t){e(t,n)}));case"group":return Object.assign(t,{layerIndex:n}),void t.elements.forEach((function(t){e(t,n)}));case"node":return void Object.assign(t,{layerIndex:n})}}(e.stack),e}function K(e){return{stack:e.stack,edges:e.edges.flatMap((function(t){if(Math.abs(t.from.layerIndex-t.to.layerIndex)<=1)return t;for(var n=Math.min(t.from.layerIndex,t.to.layerIndex),r=Math.max(t.from.layerIndex,t.to.layerIndex),o=[],a=t.from.layerIndex<t.to.layerIndex?t.from:t.to,s=t.from.layerIndex>=t.to.layerIndex?t.from:t.to,c=n+1;c<r;c++){var i={kind:"node",name:"",size:.01,isPlaceholder:!0,layerIndex:c};e.stack.elements[c].elements.splice(0,0,i),o.push({from:a,to:i}),a=i}return o.push({from:a,to:s}),o}))}}function C(e){return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{globalCounter:0};switch(t.kind){case"stack":return void t.elements.forEach((function(t){return e(t,n)}));case"layer":return void t.elements.forEach((function(t){return e(t,n)}));case"group":return Object.assign(t,{key:""+n.globalCounter}),n.globalCounter++,void t.elements.forEach((function(t){return e(t,n)}));case"node":return Object.assign(t,{key:""+n.globalCounter}),void n.globalCounter++}}(e.stack),e}n.d(t,"a",(function(){return U}));var U=function(e){return[e].map(W).map(K).map(C).map(E).map(y).map(P).map(j).map((function(e){var t=M(e.edges,e.stack.elements.length),n=x(e.stack)+2*c,r=O(e.stack)+_+t.reduce((function(e,t){return e+t}))+2*s;return o.a.createElement("svg",{viewBox:"0 0 "+n+" "+r},Y(e.stack).map(D),T(e.stack).map(A),e.edges.map(X))}))[0]}}},[[194,1,2]]]);
//# sourceMappingURL=main.f9f91da3.chunk.js.map