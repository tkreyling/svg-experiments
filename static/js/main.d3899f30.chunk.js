(this["webpackJsonpsvg-experiments"]=this["webpackJsonpsvg-experiments"]||[]).push([[0],[,,,,function(e,n,r){e.exports=r(11)},,,,,function(e,n,r){},function(e,n,r){},function(e,n,r){"use strict";r.r(n);var t=r(0),o=r.n(t),a=r(3),i=r.n(a),u=(r(9),r(1)),c=(r(10),5),f=5,d=150,l=40,s=10,m=20,x=10;function y(e){return Math.max.apply(Math,Object(u.a)(e.map(g)))}function g(e){var n=e.length;return 0===n?0:n*d+(n-1)*s}function v(e){return e.from.layerIndex===e.to.layerIndex?e.from.index<=e.to.index:e.from.layerIndex<e.to.layerIndex}function h(e){return v(e)?e.from:e.to}function p(e){return v(e)?e.to:e.from}function E(e,n){var r=new Map;return e.forEach((function(e){var n=h(e).layerIndex,t=r.get(n)||[];t.push(e),r.set(n,t)})),Array.from(Array(n).keys()).map((function(e){var n,t=(null===(n=r.get(e))||void 0===n?void 0:n.map((function(e){return e.index})))||[0];return Math.max.apply(Math,Object(u.a)(t))*x}))}function I(e){return{layers:k(e.layers),edges:e.edges}}function k(e){var n=Math.max.apply(Math,Object(u.a)(e.map((function(e){return e.length}))));return e.map((function(e,r){var t=e.length,o=(n-t)/2;return e.map((function(e,n){return Object.assign(e,{key:r+"_"+n,index:n,relativePosition:o+n,layerIndex:r})}))}))}function w(e){var n=E(e.edges,e.layers.length);return{layers:b(e.layers,n),edges:e.edges}}function b(e,n){var r=y(e);return e.map((function(e,t){var o=n.slice(0,t).reduce((function(e,n){return e+n}),0);return function(e,n,r){var t=(n-g(e))/2;return e.map((function(e){return Object.assign(e,{x:e.index*(d+s)+f+t,y:e.layerIndex*(l+m)+c+r})}))}(e,r,o)}))}function M(e){return function(e){var n=new Map;e.forEach((function(e){var r=h(e).layerIndex,t=n.get(r)||[];t.push(e),n.set(r,t)})),Array.from(n.values()).forEach(N)}(e.edges),{layers:e.layers,edges:e.edges}}function N(e){var n=new Map;e.forEach((function(e){var r=h(e).key,t=n.get(r)||[];t.push(e),n.set(r,t)}));var r=Array.from(n.keys());r.sort();var t=0;r.forEach((function(e){var r=n.get(e),o=r.filter((function(e){return p(e).layerIndex===h(e).layerIndex})),a=o.filter((function(e){return p(e).index<=h(e).index})),i=o.filter((function(e){return p(e).index>h(e).index})),u=r.filter((function(e){return p(e).layerIndex!==h(e).layerIndex})),c=u.filter((function(e){return p(e).relativePosition<=h(e).relativePosition})),f=u.filter((function(e){return p(e).relativePosition>h(e).relativePosition}));a.sort((function(e,n){return p(e).index-p(n).index})),c.sort((function(e,n){return p(e).index-p(n).index})),f.sort((function(e,n){return p(n).index-p(e).index})),i.sort((function(e,n){return p(e).index-p(n).index}));var d=a.concat(c),l=i.concat(f);function s(e,n){var r=h(e).layerIndex,o=t+n;Object.assign(e,{key:r+"_"+o,index:o,layerIndex:r})}d.forEach((function(e,n){return s(e,n)})),l.forEach((function(e,n){return s(e,n)})),t+=Math.max(d.length,l.length)}))}function O(e){return function(e){var n=new Map;function r(e,r,t){var o=e.layerIndex<=r.layerIndex?"LOWER":"UPPER",a=e.key+o,i=n.get(a)||{node:e,side:o,edgeEnds:[]};i.edgeEnds.push({reverseNode:r,setIndex:t}),n.set(a,i)}e.forEach((function(e){r(e.from,e.to,(function(n){return Object.assign(e,{fromIndex:n})})),r(e.to,e.from,(function(n){return Object.assign(e,{toIndex:n})}))})),Array.from(n.values()).forEach((function(e){var n=e.edgeEnds,r=e.node,t=e.side,o=n.filter((function(e){return e.reverseNode.layerIndex===r.layerIndex})),a=o.filter((function(e){return e.reverseNode.index<=r.index})),i=o.filter((function(e){return e.reverseNode.index>=r.index})),u=n.filter((function(e){return e.reverseNode.layerIndex!==r.layerIndex}));a.sort((function(e,n){return n.reverseNode.index-e.reverseNode.index})),u.sort((function(e,n){return e.reverseNode.index-n.reverseNode.index})),i.sort((function(e,n){return n.reverseNode.index-e.reverseNode.index})),a.concat(u).concat(i).forEach((function(e,n){e.setIndex(n)})),"UPPER"===t?Object.assign(r,{upperSideEdges:n.length}):Object.assign(r,{lowerSideEdges:n.length})}))}(e.edges),{layers:e.layers,edges:e.edges}}var P=function(e){return o.a.createElement("g",{key:e.key},o.a.createElement("rect",{"data-testid":"rect",x:e.x,y:e.y,width:d,height:l,fill:"lightgrey",strokeWidth:1,stroke:"black"}),o.a.createElement("text",{x:e.x+5,y:e.y+l/2,fill:"black",clipPath:"url(#clip-element-text-"+e.key+")"},e.name),o.a.createElement("clipPath",{id:"clip-element-text-"+e.key},o.a.createElement("rect",{x:e.x+5,y:e.y,width:d-10,height:l})))},j=function(e){var n=e.from.layerIndex<=e.to.layerIndex,r=(d-((n?e.from.lowerSideEdges:e.from.upperSideEdges)-1)*x)/2,t=e.from.x+r+e.fromIndex*x,a=e.from.y+(n?l:0),i=h(e).y+l+m/2+e.index*x,u=e.from.layerIndex>=e.to.layerIndex,c=(d-((u?e.to.lowerSideEdges:e.to.upperSideEdges)-1)*x)/2,f=e.to.x+c+e.toIndex*x,s=e.to.y+(u?l:0);return o.a.createElement("path",{d:"M "+t+" "+a+" L "+t+" "+i+" L "+f+" "+i+" L "+f+" "+s,stroke:"black",strokeWidth:1,fill:"none"})},A=[["element 1","element 2","an element with long text","element 4"],["element 1","element 2","element 3"],["element 1","element 2","element 3","element 4","element 5"]].map((function(e){return e.map((function(e){return{name:e}}))})),S=[{from:A[0][1],to:A[1][0]},{from:A[0][2],to:A[1][2]},{from:A[0][3],to:A[1][1]},{from:A[1][2],to:A[2][2]},{from:A[1][1],to:A[2][4]},{from:A[1][1],to:A[2][3]},{from:A[1][1],to:A[2][2]},{from:A[1][1],to:A[2][1]},{from:A[1][1],to:A[2][0]},{from:A[2][0],to:A[1][0]},{from:A[2][1],to:A[1][0]},{from:A[2][0],to:A[2][3]},{from:A[2][1],to:A[2][3]},{from:A[0][0],to:A[0][2]},{from:A[0][0],to:A[0][1]},{from:A[0][0],to:A[1][0]},{from:A[0][0],to:A[1][0]},{from:A[1][1],to:A[1][0]},{from:A[1][1],to:A[1][2]}],W=function(e){return[e].map(I).map(M).map(w).map(O).map((function(e){var n=E(e.edges,e.layers.length),r=y(e.layers)+2*f,t=function(e){var n=e.length;return n*l+n*m}(e.layers)+n.reduce((function(e,n){return e+n}))+2*c;return o.a.createElement("svg",{viewBox:"0 0 "+r+" "+t},e.layers.flat().map(P),e.edges.map(j))}))[0]},L=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(W,{layers:A,edges:S}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[4,1,2]]]);
//# sourceMappingURL=main.d3899f30.chunk.js.map